<!doctype html>
<html>

<head>
    <meta name="robots" content="noindex, nofollow">

    <link rel="stylesheet"
        href="waflash-style.css"
        type="text/css">
    <script>
        // Function to validate if a string is a valid URL
        function isValidURL(url) {
            try {
                new URL(url);
                return true;
            } catch (error) {
                return false;
            }
        }

        // Function to parse URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Get the value of "?url=" parameter from the URL
        var swfUrlParam = getParameterByName('url');

        // Check if the provided URL is valid and ends with ".swf" extension
        if (isValidURL(swfUrlParam) && swfUrlParam.endsWith('.swf')) {
            // Set the SWF URL in the gameConfig object
            var gameConfig = {
                swfUrl: swfUrlParam
            };
        } else {
            // Show an error message or perform error handling
            alert("Invalid or unsupported SWF URL.");
        }
    </script>
</head>

<body>
    <div id="waflashContainer"> <canvas class="waflashCanvas" id="canvas" tabindex="1"></canvas>
        <div id="waflashStatus" style="display: none;">Playing...</div>
        <script> var ua = navigator.userAgent.toLowerCase(); if ((navigator.appName == 'Netscape' && ua.indexOf('trident') != -1) || (ua.indexOf("msie") != -1)) { var waf = document.getElementById('waflashStatus'); waf.style.display = 'block'; waf.innerText = '??? ?????(IE) ??? ??? ???? ???? !\n??, ???? ?? ????? ??????.'; gtag('event', 'connect_from_ie', { 'event_category': 'error', 'event_label': ua }); } </script>
        <script type="module"
            crossorigin="anonymous"> let is_mobile = /Mobi/i.test(window.navigator.userAgent); if (is_mobile) { function scrollToSubject() { try { window.scrollTo({ top: 100, left: 0, behavior: 'smooth' }); } catch (e) { } } scrollToSubject(); window.addEventListener("orientationchange", function () { setTimeout(scrollToSubject, 100); }); } else { document.getElementById('canvas').focus(); } document.getElementById('canvas').addEventListener("keydown", function (ev) { ev.preventDefault(); ev.stopPropagation(); }); document.getElementById('canvas').addEventListener("click", function () { document.getElementById('canvas').focus(); }); document.addEventListener("mousedown", (function () { const canvasElement = document.getElementById('canvas'); let focused = false; return function (ev) { if (ev.target == canvasElement) { if (!focused) { canvasElement.focus(); focused = true; } } else { if (focused) { focused = false; } } return true; } })()); import { createWaflash } from 'https://retrobowl-unblocked.github.io/flash/waflash-player.min.js'; createWaflash(gameConfig.swfUrl, window.wafOptions || {}); </script>
    </div>
    <script
        src="scr.js"></script>
</body>

</html>