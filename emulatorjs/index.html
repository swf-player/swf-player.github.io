<!-- Game -->
<div class="display-game-big">
    <div style="width: 680px; height: 510px; max-width: 100%;">
        <div id="game"></div>
    </div>
    <script type="text/javascript">
        // Function to validate a URL
        function isValidUrl(url) {
            try {
                new URL(url);
                return true;
            } catch (error) {
                return false;
            }
        }

        // Get the EJS_gameUrl parameter from the URL
        const urlParams = new URLSearchParams(window.location.search);
        const gameUrlParam = urlParams.get('url');

        // Check if the game URL is valid
        if (gameUrlParam && isValidUrl(gameUrlParam)) {
            EJS_gameUrl = gameUrlParam;
        } else {
            // Default game URL if the parameter is missing or invalid
            EJS_gameUrl = '/roms/sonic-jam.gen';
        }

        // Rest of your code
        EJS_player = '#game';
        EJS_biosUrl = ''; // Url to Famicom Disk System bios
        EJS_core = 'segaMD';
        EJS_lightgun = false; // NES Lightgun
        EJS_mouse = false;    // SNES Mouse
        EJS_multitap = false; // SNES Multitap
    </script>
    <script src="https://www.emulatorjs.com/loader.js?v=1706185375"></script>
</div>

